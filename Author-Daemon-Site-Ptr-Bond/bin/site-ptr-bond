#!/usr/bin/env perl

# Perl core
use v5.32;
use strict;
use warnings;
use experimental "signatures";

# ABSTRACT: turns baubles into trinkets

# Version
our $VERSION = '0.009';

# Perl bundled
use Carp qw(cluck longmess shortmess);

# Private local

# Private remote

# Community
use Mojolicious::Lite -signatures;

# Route a static index page
get '/' => sub ($c) {
    $c->render( text => 'Hello World!' );
};

# Route with parameter
get '/param' => sub ($c) {
    my $user = $c->param('user');
    if ( !$user ) {
        $c->render( text => "Hello anonymous." );
        return;
    }
    $c->render( text => "Hello $user." );
};

# Route with stash
get '/stash' => sub ($c) {
    $c->stash( 'one' => 23 );
    $c->render( 'template' => 'magic', 'two' => 24 );
};

# Start the Mojolicious command system
app->start;

exit 0;

__DATA__

@@ magic.html.ep
The magic numbers are <%= $one %> and <%= $two %>.
